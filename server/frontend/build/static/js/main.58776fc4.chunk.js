(this.webpackJsonpformik=this.webpackJsonpformik||[]).push([[0],{203:function(e,t,a){},204:function(e,t,a){},305:function(e,t,a){},330:function(e,t,a){},334:function(e,t,a){},335:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(64),r=a.n(c),i=(a(203),a(204),a(15)),s=a(86),l=a(385),d=a(394),u=a(52),j=(a(305),a(65)),b=a.n(j),h=a(388),m=a(379),p=a(1);function x(e){return Object(p.jsx)(m.a,{sx:{width:"100%",position:"absolute",top:"0"},spacing:2,children:Object(p.jsx)(h.a,{severity:e.type,children:e.message})})}var O=a(26),f=a(49),v=u.a({email:u.b("Enter your email").email("Enter a valid email").required("Email is required"),password:u.b("Enter your password").min(8,"Password should be of minimum 8 characters length").max(10,"No more then 10").required("Password is required"),name:u.b("Enter Your Full Name ").required("Full Name is required")});var g=function(){var e=Object(O.f)(),t=Object(n.useState)(""),a=Object(i.a)(t,2),o=a[0],c=a[1],r="localhost"===window.location.hostname.split(":")[0]?"http://localhost:4000":"",u=Object(s.b)({initialValues:{fullName:"",email:"",phone:"",password:""},validationSchema:v,onSubmit:function(t){console.log("working"),b.a.post("".concat(r,"/api/v1/add_user"),{fullName:t.fullName,phone:Number(t.phone),email:t.email,password:t.password}).then((function(t){"user created"===t.data&&(c(!0),setTimeout((function(){e.push("/login"),c("")}),1e3))})).catch((function(e){console.log(e)}))}});return Object(n.useEffect)((function(){b.a.get("".concat(r,"/api/v1/signupuser")).then((function(e){}))}),[]),Object(p.jsxs)("div",{children:[!0===o?Object(p.jsx)(x,{type:"success",message:"Welcome! Successfully account created"}):"",Object(p.jsx)("h1",{className:"text-center",children:"Welcome To Todo List"}),Object(p.jsx)("div",{className:"form d-flex justify-content-center p-5",children:Object(p.jsxs)("div",{className:"card",children:[Object(p.jsx)("div",{className:"card-header",children:Object(p.jsx)("center",{children:Object(p.jsx)("h3",{children:" SignUp Form"})})}),Object(p.jsxs)(d.a,{type:"form",component:"form",noValidate:!0,autoComplete:"off",onSubmit:u.handleSubmit,id:"loginForm",className:"card-body px-5 py-4",children:[Object(p.jsx)(l.a,{fullWidth:!0,color:"primary",id:"outlined-basic",label:"Full Name",variant:"outlined",name:"fullName",value:u.values.fullName,onChange:u.handleChange,error:u.touched.fullName&&Boolean(u.errors.fullName),helperText:u.touched.fullName&&u.errors.fullName}),Object(p.jsx)(l.a,{fullWidth:!0,id:"outlined-basic",label:"Email",variant:"outlined",name:"email",type:"email",value:u.values.email,onChange:u.handleChange,error:u.touched.email&&Boolean(u.errors.email),helperText:u.touched.email&&u.errors.email}),Object(p.jsx)(l.a,{fullWidth:!0,id:"outlined-basic",label:"Phone",variant:"outlined",name:"phone"}),Object(p.jsx)(l.a,{fullWidth:!0,color:"primary",id:"outlined-basic",label:"Password",variant:"outlined",type:"password",name:"password",value:u.values.password,onChange:u.handleChange,error:u.touched.password&&Boolean(u.errors.password),helperText:u.touched.password&&u.errors.password}),Object(p.jsxs)("center",{children:[Object(p.jsx)(f.b,{to:"/",children:Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(){return e.push("/login")},children:"  I have an account "})}),Object(p.jsx)("button",{type:"submit",className:"btn btn-secondary",children:"Signup"})]})]})]})})]})},y=(a(330),a(66)),w=function(e,t){switch(t.type){case"USER_LOGIN":return t.payload.fullName&&t.payload.email&&t.payload.password&&t.payload.phone?Object(y.a)(Object(y.a)({},e),{},{user:t.payload}):(console.log("invalid data in user_login"),e);case"USER_LOGOUT":return Object(y.a)(Object(y.a)({},e),{},{user:null});default:return e}},N=Object(n.createContext)("initial values"),C={user:{}};function S(e){var t=e.children,a=Object(n.useReducer)(w,C),o=Object(i.a)(a,2),c=o[0],r=o[1];return Object(p.jsx)(N.Provider,{value:{state:c,dispatch:r},children:t})}var T=u.a({email:u.b("Enter your email").email("Enter a valid email").required("Email is required"),password:u.b("Enter your password").min(8,"Password should be of minimum 8 characters length").max(10,"No more then 10").required("Password is required"),name:u.b("Enter Your Full Name ").url("please enter valid Name").required("Full Namw is required")});var k=function(){var e=Object(n.useContext)(N).dispatch,t=Object(n.useState)(""),a=Object(i.a)(t,2),o=a[0],c=a[1],r="localhost"===window.location.hostname.split(":")[0]?"http://localhost:4000":"",d=Object(s.b)({initialValues:{email:"",password:""},validationSchema:T,onSubmit:function(t){b.a.post("".concat(r,"/api/v1/login"),{email:t.email,password:t.password}).then((function(t){"error"!==t.data?(e({type:"USER_LOGIN",payload:{fullName:t.data.fullName,email:t.data.email,phone:t.data.phone}}),c(!0),setTimeout((function(){u.push("/dashboard"),c([])}),1e3),console.log("successful login")):(c(!1),setTimeout((function(){c([])}),1e3),console.log("Email or password is invalid"))}))}}),u=Object(O.f)();return Object(p.jsxs)("div",{children:[!0===o?Object(p.jsx)(x,{type:"success",message:"Welcome"}):"",!1===o?Object(p.jsx)(x,{type:"error",message:"Invalid email or password"}):"",Object(p.jsx)("h1",{className:"text-center",children:"Welcome to Todo List"}),Object(p.jsx)("div",{className:"form d-flex justify-content-center p-5",children:Object(p.jsxs)("div",{className:"card",children:[Object(p.jsx)("div",{className:"card-header",children:Object(p.jsx)("center",{children:Object(p.jsx)("h3",{children:"Login Form"})})}),Object(p.jsx)(s.a,{children:Object(p.jsxs)("form",{onSubmit:d.handleSubmit,id:"loginForm",className:"card-body px-5 py-4",children:[Object(p.jsx)(l.a,{fullWidth:!0,id:"outlined-basic",label:"Email",variant:"outlined",name:"email",value:d.values.email,onChange:d.handleChange,error:d.touched.email&&Boolean(d.errors.email),helperText:d.touched.email&&d.errors.email}),Object(p.jsx)(l.a,{fullWidth:!0,color:"primary",id:"outlined-basic",label:"Password",variant:"outlined",type:"password",name:"password",value:d.values.password,onChange:d.handleChange,error:d.touched.password&&Boolean(d.errors.password),helperText:d.touched.password&&d.errors.password}),Object(p.jsxs)("center",{children:[Object(p.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Login"}),Object(p.jsxs)(f.b,{to:"/signup",children:[" ",Object(p.jsx)("button",{className:"btn btn-secondary",onClick:function(){return u.push("/signup")},children:" Create an Account"})]})]})]})})]})})]})};function E(){return Object(p.jsx)("div",{children:Object(p.jsx)("h1",{children:"404 Error"})})}var F=a(396),L=a(397),P=a(400),W=a(398),q=a(399),G=a(393),I=a(105),B=a.n(I);function z(){var e=Object(O.f)();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(d.a,{sx:{flexGrow:1},children:Object(p.jsx)(F.a,{position:"static",style:{backgroundColor:"#800020"},children:Object(p.jsxs)(L.a,{children:[Object(p.jsx)(G.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:Object(p.jsx)(B.a,{})}),Object(p.jsx)(W.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:Object(p.jsx)("span",{onClick:function(){return e.push("/")},style:{cursor:"pointer"},children:"Dashboard"})}),Object(p.jsx)(q.a,{color:"inherit",onClick:function(){return e.push("/login")},children:"Login"}),Object(p.jsx)(q.a,{color:"inherit",onClick:function(){return e.push("/signup")},children:"Signup"})]})})}),Object(p.jsx)(P.a,{children:Object(p.jsx)("div",{style:{width:"100%",height:"80vh",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"},children:Object(p.jsx)(W.a,{variant:"h4",style:{fontWeight:"bolder",color:"#800020"},children:"Login To Access Services"})})})]})}var D=a(6),U=a(389),_=a(395),A=a(390),R=a(401),V=a(9),K=a(404),Y=a(406),J=a(384),M=a(129),H=a(403),Z=a(405),Q=a(402),X=a(392);var $=function(){var e,t=Object(O.f)(),a="localhost"===window.location.hostname.split(":")[0]?"http://localhost:4000":"",c=Object(n.useContext)(N),r=c.state,s=c.dispatch,u=Object(n.useState)(""),j=Object(i.a)(u,2),h=j[0],m=j[1],f=Object(n.useState)([]),v=Object(i.a)(f,2),g=v[0],w=v[1],C=Object(n.useState)(!1),S=Object(i.a)(C,2),T=S[0],k=S[1],E=Object(n.useState)(""),I=Object(i.a)(E,2),z=I[0],$=I[1];Object(n.useEffect)((function(){return b.a.get("".concat(a,"/api/v1/post")).then((function(e){var t=[];e.data.forEach((function(e){t.unshift(e)})),w([].concat(t))})),function(){}}),[T]);var ee=o.a.useState({top:!1,left:!1,bottom:!1,right:!1}),te=Object(i.a)(ee,2),ae=te[0],ne=te[1],oe=function(e,t){return function(a){(!a||"keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&ne(Object(y.a)(Object(y.a)({},ae),{},Object(D.a)({},e,t)))}},ce=function(e){return Object(p.jsx)(d.a,{sx:{width:"top"===e||"bottom"===e?"auto":250},role:"presentation",onClick:oe(e,!1),onKeyDown:oe(e,!1),children:Object(p.jsx)(_.a,{children:["Name: ".concat(r.user.fullName),"Email: ".concat(r.user.email),"Gender: ".concat(r.user.gender),"Phone Number: ".concat(r.user.phone),"Address: ".concat(r.user.address)].map((function(e,t){return Object(p.jsx)(A.a,{children:Object(p.jsx)(R.a,{primary:e})},e)}))})})},re=Object(V.a)(J.a)((function(e){var t,a=e.theme;return t={},Object(D.a)(t,"&.".concat(M.a.head),{backgroundColor:"#800020",color:a.palette.common.white}),Object(D.a)(t,"&.".concat(M.a.body),{fontSize:14}),t})),ie=Object(V.a)(Q.a)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}));return Object(p.jsxs)("div",{children:[Object(p.jsx)(d.a,{sx:{flexGrow:1},children:Object(p.jsx)(F.a,{position:"static",sx:{backgroundColor:"\t#800020"},children:Object(p.jsxs)(L.a,{children:[Object(p.jsxs)(G.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:0,position:"relative"},children:[Object(p.jsx)(B.a,{}),Object(p.jsx)("div",{style:{position:"absolute",left:"0px"},children:["left"].map((function(e){return Object(p.jsxs)(o.a.Fragment,{children:[Object(p.jsx)(q.a,{onClick:oe(e,!0),style:{color:"transparent",padding:"0px"},children:e}),Object(p.jsx)(U.a,{anchor:e,open:ae[e],onClose:oe(e,!1),onOpen:oe(e,!0),children:ce(e)})]},e)}))})]}),Object(p.jsx)(W.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Dashboard"}),Object(p.jsx)(q.a,{color:"inherit",onClick:function(){var e;(null===r||void 0===r||null===(e=r.user)||void 0===e?void 0:e.fullName)?($(!0),setTimeout((function(){t.push("/login"),s({type:"USER_LOGOUT",payload:null}),$([])}),1e3)):($(!1),setTimeout((function(){$([])}),1e3))},children:"Logout"})]})})}),Object(p.jsxs)(P.a,{children:[Object(p.jsx)(W.a,{variant:"h4",style:{marginTop:"30px",fontWeight:"bold",color:"darkred"},children:"Type your Post"}),Object(p.jsxs)("form",{onSubmit:function(e){var t;(e.preventDefault(),""!==h)&&((null===r||void 0===r||null===(t=r.user)||void 0===t?void 0:t.fullName)&&b.a.post("".concat(a,"/api/v1/post"),{text:h,author:r.user.fullName}).then((function(e){k(!T),m("")})))},children:[Object(p.jsx)(d.a,{sx:{"& > :not(style)":{marginTop:"20px",marginBottom:"14px",width:"100%"}},autoComplete:"off",children:Object(p.jsx)(l.a,{label:"Enter text",value:h,onChange:function(e){m(e.target.value)},variant:"filled"})}),Object(p.jsx)(q.a,{variant:"contained",color:"error",size:"large",style:{marginBottom:"40px"},type:"submit",children:"Post"})]}),Object(p.jsx)(H.a,{component:X.a,children:Object(p.jsxs)(K.a,{"aria-label":"customized table",children:[Object(p.jsx)(Z.a,{children:Object(p.jsx)(Q.a,{children:Object(p.jsx)(re,{sx:{textAlign:"center "},children:Object(p.jsx)(W.a,{variant:"h6",children:"All Users Posts"})})})}),Object(p.jsx)(Y.a,{children:(null===r||void 0===r||null===(e=r.user)||void 0===e?void 0:e.fullName)&&g.map((function(e){return Object(p.jsx)(ie,{children:Object(p.jsxs)(re,{component:"th",scope:"row",children:[e.text," -"," ",Object(p.jsx)("span",{style:{fontWeight:"bold",color:"red"},children:e.author})]})},e._id)}))})]})})]}),!0===z?Object(p.jsx)(x,{type:"success",message:"Good bye!"}):"",!1===z?Object(p.jsx)(x,{type:"error",message:"Sorry! Something went wrong"}):""]})},ee=a(22),te=a(4),ae=a.n(te),ne=a(8),oe=(a(334),a(85)),ce=a(181);Object(ce.a)({apiKey:"AIzaSyDGk9TaZ5OFtpemnturtP01oniU_gijVR8",authDomain:"zubair-react-todo.firebaseapp.com",projectId:"zubair-react-todo",storageBucket:"zubair-react-todo.appspot.com",messagingSenderId:"224237301888",appId:"1:224237301888:web:90b5033bf69c89dc107665",measurementId:"G-CHNYKL0W71"});var re=Object(oe.c)(),ie=Object(oe.a)(re,"todo");function se(e){var t=e.todo,a=e.index,n=e.completeTodo,o=e.removeTodo;return Object(p.jsxs)("div",{className:"todo",style:{textDecoration:t.isCompleted?"line-through":""},children:[t.text,Object(p.jsxs)("div",{children:[Object(p.jsx)(q.a,{variant:"success",onClick:function(){return n(a)},children:"Complete"}),Object(p.jsx)(q.a,{onClick:function(){return o(a)},variant:"contained",color:"error",children:"Delet"})]})]})}function le(e){var t=e.addTodo,a=o.a.useState(""),n=Object(i.a)(a,2),c=n[0],r=n[1];return Object(p.jsx)("form",{onSubmit:function(e){e.preventDefault(),c&&(t(c),r(""))},children:Object(p.jsx)(l.a,{fullWidth:!0,addTodo:t,color:"primary",id:"standard-basic",label:"Standard",variant:"standard",type:"text",name:"text",className:"input",value:c,onChange:function(e){return r(e.target.value)}})})}console.log(ie);var de=function(){var e=o.a.useState([{text:"Learn about React",isCompleted:!1},{text:"Meet friend for lunch",isCompleted:!1},{text:"Build really cool todo app",isCompleted:!1}]),t=Object(i.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){return function(){var e=Object(ne.a)(ae.a.mark((function e(){var t,a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(oe.b)(ie);case 2:t=e.sent,a=[],t.forEach((function(e){console.log("".concat(e.id," => ").concat(e.data())),a.push(e.data())})),c(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){console.log("cleanup")}}),[]);var r=function(e){var t=Object(ee.a)(a);t[e].isCompleted=!0,c(t)},s=function(e){var t=Object(ee.a)(a);t.splice(e,1),c(t)};return Object(p.jsx)("div",{className:"app",children:Object(p.jsxs)("div",{className:"card",children:[Object(p.jsx)("div",{className:"name",children:Object(p.jsx)("h1",{children:"login as zubair"})}),a.map((function(e,t){return Object(p.jsx)(se,{index:t,todo:e,completeTodo:r,removeTodo:s},t)})),Object(p.jsx)(le,{addTodo:function(e){var t=[].concat(Object(ee.a)(a),[{text:e}]);c(t)}})]})})};var ue=function(){return Object(p.jsx)("div",{children:Object(p.jsx)(f.a,{children:Object(p.jsxs)(O.c,{children:[Object(p.jsx)(O.a,{exact:!0,path:"/dashboard",children:Object(p.jsx)($,{})}),Object(p.jsx)(O.a,{path:"/todo",children:Object(p.jsx)(de,{})}),Object(p.jsx)(O.a,{exact:!0,path:"/signup",children:Object(p.jsx)(g,{})}),Object(p.jsx)(O.a,{exact:!0,path:"/",children:Object(p.jsx)(k,{})}),Object(p.jsx)(O.a,{exact:!0,path:"*",children:Object(p.jsx)(z,{})}),Object(p.jsx)(O.a,{component:404,children:Object(p.jsx)(E,{})})]})})})},je=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,408)).then((function(t){var a=t.getCLS,n=t.getFID,o=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),o(e),c(e),r(e)}))};r.a.render(Object(p.jsx)(o.a.StrictMode,{children:Object(p.jsx)(S,{children:Object(p.jsx)(ue,{})})}),document.getElementById("root")),je()}},[[335,1,2]]]);
//# sourceMappingURL=main.58776fc4.chunk.js.map